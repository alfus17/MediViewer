# HTML version of the API specification
api_specification_html = """
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Specification for WorkList Management</title>
    <style>
        body { font-family: Arial, sans-serif; line-height: 1.6; }
        h1, h2 { color: #333; }
        code { background-color: #f4f4f4; padding: 2px 4px; border-radius: 4px; }
        pre { background-color: #f4f4f4; padding: 10px; border-radius: 4px; overflow-x: auto; }
    </style>
</head>
<body>
    <h1>API Specification for WorkList Management</h1>

    <p><strong>Base URL:</strong> <code>/api/lists</code></p>

    <h2>1. Get Initial Loading</h2>
    <p><strong>Method:</strong> <code>GET</code></p>
    <p><strong>Endpoint:</strong> <code>/api/lists</code></p>
    <p><strong>Description:</strong> Fetches the initial list of work items upon page load.</p>
    <p><strong>Response:</strong></p>
    <pre>
    200 OK: Returns a list of WorkList objects.
    </pre>
    <p><strong>Response Body Example:</strong></p>
    <pre>
    [
      {
        "workList": "<WorkList>"
      }
    ]
    </pre>

    <h2>2. Post - Query Data</h2>
    <p><strong>Method:</strong> <code>POST</code></p>
    <p><strong>Endpoint:</strong> <code>/api/lists/query</code></p>
    <p><strong>Description:</strong> Submits a query to filter or search through worklists based on provided criteria.</p>
    <p><strong>Response:</strong></p>
    <pre>
    200 OK: Returns a filtered list of WorkList objects.
    </pre>
    <p><strong>Response Body Example:</strong></p>
    <pre>
    [
      {
        "workList": "<WorkList>"
      }
    ]
    </pre>

    <h2>3. Post - Fetch Selected History Data</h2>
    <p><strong>Method:</strong> <code>POST</code></p>
    <p><strong>Endpoint:</strong> <code>/api/lists/histories</code></p>
    <p><strong>Description:</strong> Retrieves data for a selected history entry, including preview path and file name.</p>
    <p><strong>Response:</strong></p>
    <pre>
    200 OK: Returns the selected WorkList data along with a preview of the corresponding file.
    </pre>
    <p><strong>Response Body Example:</strong></p>
    <pre>
    {
      "workList": "<WorkList>",
      "preview": {
        "path": "<string>",
        "fileName": "<string>"
      }
    }
    </pre>

    <h2>4. Get - Fetch Selected Preview Data</h2>
    <p><strong>Method:</strong> <code>GET</code></p>
    <p><strong>Endpoint:</strong> <code>/api/lists/preview</code></p>
    <p><strong>Query Parameter:</strong> <code>studykey</code> (required, Integer) - The unique key for the study to retrieve the preview.</p>
    <p><strong>Description:</strong> Retrieves the preview data for the study identified by the <code>studykey</code>.</p>
    <p><strong>Response:</strong></p>
    <pre>
    200 OK: Returns the preview data for the study.
    </pre>
    <p><strong>Response Body Example:</strong></p>
    <pre>
    {
      "preview": "<previewData>"
    }
    </pre>

    <h2>5. Get - Fetch Detailed Comments for Preview</h2>
    <p><strong>Method:</strong> <code>GET</code></p>
    <p><strong>Endpoint:</strong> <code>/api/lists/comment</code></p>
    <p><strong>Query Parameter:</strong> <code>studykey</code> (required, Integer) - The unique key for the study to fetch comments.</p>
    <p><strong>Description:</strong> Retrieves comments related to the detailed preview for the study identified by <code>studykey</code>.</p>
    <p><strong>Response:</strong></p>
    <pre>
    200 OK: Returns the preview data including comments.
    </pre>
    <p><strong>Response Body Example:</strong></p>
    <pre>
    {
      "preview": "<previewWithComments>"
    }
    </pre>

    <h2>6. Get - Navigate to Detailed Page</h2>
    <p><strong>Method:</strong> <code>GET</code></p>
    <p><strong>Endpoint:</strong> <code>/api/lists/detail</code></p>
    <p><strong>Query Parameter:</strong> <code>studykey</code> (required, Integer) - The unique key for the study to navigate to the detailed page.</p>
    <p><strong>Description:</strong> Redirects to the detailed view of the study identified by the <code>studykey</code>.</p>
    <p><strong>Response:</strong></p>
    <pre>
    Redirect to /view/{studykey}
    </pre>

    <h2>Response Codes</h2>
    <pre>
    - 200 OK: The request was successful, and the data is returned in the response.
    - 400 Bad Request: The request parameters are invalid or missing.
    - 404 Not Found: The requested resource was not found.
    </pre>
</body>
</html>
"""

# Save the HTML content to a file
html_file_path = '/mnt/data/worklist_api_specification.html'
with open(html_file_path, 'w') as html_file:
    html_file.write(api_specification_html)

html_file_path
